"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[849],{8849:(O,u,n)=>{n.r(u),n.d(u,{DashboardModule:()=>b});var g=n(8583),r=n(9502),e=n(476),S=n(2468),v=n(2437),l=n(8391),C=n(9744),D=n(9386),h=n(3692);let E=(()=>{class i{constructor(_,t,s,a,A,c){this.dataService=_,this.metadataSvc=t,this.schedulerSvc=s,this.notiSvc=a,this.systemAgentSvc=A,this.registrySvc=c,this.eventCount=0,this.readingCount=0,this.deviceSvcCount=0,this.deviceSvcStatusLockedCount=0,this.deviceCount=0,this.deviceStatusLockedCount=0,this.deviceProfileCount=0,this.schedulerCount=0,this.notificationCount=0,this.registeredServiceCount=0}ngOnInit(){this.dataService.ping().subscribe(()=>{this.getEventAndReadingCount()}),this.metadataSvc.ping().subscribe(()=>{this.getDeviceServiceCount(),this.getDeviceCount(),this.getDeviceProfileCount()}),this.schedulerSvc.ping().subscribe(()=>{this.getIntervalCount()}),this.notiSvc.ping().subscribe(()=>{this.getNotificationCount()}),this.systemAgentSvc.ping().subscribe(()=>{this.registrySvc.ping().subscribe(()=>{this.getRegisteredServiceCount()})})}getEventAndReadingCount(){this.dataService.eventCount().subscribe(_=>this.eventCount=_.Count),this.dataService.readingCount().subscribe(_=>this.readingCount=_.Count)}getDeviceServiceCount(){this.metadataSvc.allDeviceServices().subscribe(_=>{this.deviceSvcCount=_.services.length,_.services.forEach((t,s)=>{"LOCKED"===t.adminState&&this.deviceSvcStatusLockedCount++})})}getDeviceCount(){this.metadataSvc.allDevices().subscribe(_=>{this.deviceCount=_.devices.length,_.devices.forEach((t,s)=>{"LOCKED"===t.adminState&&this.deviceStatusLockedCount++})})}getDeviceProfileCount(){this.metadataSvc.allDeviceProfolesPagination(0,-1).subscribe(_=>{this.deviceProfileCount=_.profiles.length})}getIntervalCount(){this.schedulerSvc.findAllIntervalsPagination(0,-1).subscribe(_=>{this.schedulerCount=_.intervals.length})}getNotificationCount(){this.notiSvc.findNotificationsByStatusPagination(0,-1,"NEW").subscribe(_=>{this.notificationCount=_.notifications.length})}getRegisteredServiceCount(){this.systemAgentSvc.getRegisteredServiceAll().subscribe(_=>{this.registeredServiceCount=_.length?_.length:0})}}return i.\u0275fac=function(_){return new(_||i)(e.Y36(S.D),e.Y36(v.D),e.Y36(l.G),e.Y36(C.T),e.Y36(D.J),e.Y36(h.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:67,vars:11,consts:function(){let o,_,t,s,a,A,c;return o=" Device Services ",_="Devices",t="Device Profiles",s="Schedulers",a="Notifications",A="Events",c="Readings",[[1,"row"],[1,"col-lg-4"],["role","button","routerLink","/metadata",1,"card"],[1,"card-body"],[1,"card-title"],o,[1,"d-inline"],[1,"badge","badge-info"],[1,"float-right","badge","badge-danger"],[1,"float-right","badge","badge-success","mr-2"],["role","button","routerLink","/metadata/device-center",1,"card"],_,["role","button","routerLink","/metadata/device-profile-center",1,"card"],t,[1,"row","mt-3"],[1,"col-lg-6"],["role","button","routerLink","/scheduler",1,"card"],s,["href","#",1,"card-link","font-weight-bolder","badge","badge-info"],["role","button","routerLink","/notifications",1,"card"],a,["role","button","routerLink","/core-data",1,"card"],A,c]},template:function(_,t){1&_&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e.SDv(5,5),e.qZA(),e.TgZ(6,"h5",6),e.TgZ(7,"span",7),e._uU(8),e.qZA(),e.TgZ(9,"span",8),e._uU(10),e.qZA(),e.TgZ(11,"span",9),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"div",10),e.TgZ(15,"div",3),e.TgZ(16,"h5",4),e.SDv(17,11),e.qZA(),e.TgZ(18,"h5",6),e.TgZ(19,"span",7),e._uU(20),e.qZA(),e.TgZ(21,"span",8),e._uU(22),e.qZA(),e.TgZ(23,"span",9),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",1),e.TgZ(26,"div",12),e.TgZ(27,"div",3),e.TgZ(28,"h5",4),e.SDv(29,13),e.qZA(),e.TgZ(30,"h5",6),e.TgZ(31,"span",7),e._uU(32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",14),e.TgZ(34,"div",15),e.TgZ(35,"div",16),e.TgZ(36,"div",3),e.TgZ(37,"h5",4),e.SDv(38,17),e.qZA(),e.TgZ(39,"h5"),e.TgZ(40,"a",18),e._uU(41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",15),e.TgZ(43,"div",19),e.TgZ(44,"div",3),e.TgZ(45,"h5",4),e.SDv(46,20),e.qZA(),e.TgZ(47,"h5"),e.TgZ(48,"a",18),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",14),e.TgZ(51,"div",15),e.TgZ(52,"div",21),e.TgZ(53,"div",3),e.TgZ(54,"h5",4),e.SDv(55,22),e.qZA(),e.TgZ(56,"h5"),e.TgZ(57,"a",18),e._uU(58),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",15),e.TgZ(60,"div",21),e.TgZ(61,"div",3),e.TgZ(62,"h5",4),e.SDv(63,23),e.qZA(),e.TgZ(64,"h5"),e.TgZ(65,"a",18),e._uU(66),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&_&&(e.xp6(8),e.hij(" ",t.deviceSvcCount>100?"100+":t.deviceSvcCount," "),e.xp6(2),e.hij("Locked ",t.deviceSvcStatusLockedCount,""),e.xp6(2),e.hij("Unlocked ",t.deviceSvcCount-t.deviceSvcStatusLockedCount,""),e.xp6(8),e.hij(" ",t.deviceCount>100?"100+":t.deviceCount," "),e.xp6(2),e.hij("Locked ",t.deviceStatusLockedCount,""),e.xp6(2),e.hij("Unlocked ",t.deviceCount-t.deviceStatusLockedCount,""),e.xp6(8),e.Oqu(t.deviceProfileCount>100?"100+":t.deviceProfileCount),e.xp6(9),e.Oqu(t.schedulerCount>100?"100+":t.schedulerCount),e.xp6(8),e.Oqu(t.notificationCount>100?"100+":t.notificationCount),e.xp6(9),e.Oqu(t.eventCount),e.xp6(8),e.Oqu(t.readingCount))},directives:[r.rH],styles:[".shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000026!important;border-radius:.25rem!important}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026!important;border-radius:.25rem!important}"]}),i})();const T=[{path:"",canActivate:[n(8253).a],component:E}];let f=(()=>{class i{}return i.\u0275fac=function(_){return new(_||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r.Bz.forChild(T)],r.Bz]}),i})(),b=(()=>{class i{}return i.\u0275fac=function(_){return new(_||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,f]]}),i})()}}]);